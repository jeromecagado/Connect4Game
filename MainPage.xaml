<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Connect4Game.MainPage"
             BackgroundColor="#EEEEEE">

    <Grid ColumnDefinitions="Auto, *"
          RowDefinitions="Auto"
          Padding="20"
          RowSpacing="0"
          ColumnSpacing="20"
          VerticalOptions="Center"
          HorizontalOptions="Center">

        <!-- Column 0: Turn Indicator -->
        <VerticalStackLayout x:Name="TurnLayot" 
                             Grid.Column="0"
                             Grid.Row="0"
                             HorizontalOptions="Center"
                             VerticalOptions="Center"
                             Spacing="10">
            <BoxView x:Name="TurnToken"
                     WidthRequest="24"
                     HeightRequest="24"
                     CornerRadius="12"
                     VerticalOptions="Center" />

            <Label x:Name="TurnText"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="Black"
                   VerticalOptions="Center" />
        </VerticalStackLayout>

        <VerticalStackLayout Grid.Column="1"
                             Grid.Row="0"
                             HorizontalOptions="Center"
                             VerticalOptions="Center"
                             Spacing="0">

            <!-- Drop Tokens -->
            <Grid ColumnDefinitions="*,*,*,*,*,*,*"
              HorizontalOptions="Center"
              WidthRequest="330"
              Margin="0,0,0,10">

                <BoxView x:Name="Indicator0" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="0"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="0" />
                    </BoxView.GestureRecognizers>
                </BoxView>

                <BoxView x:Name="Indicator1" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="1"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="1" />
                    </BoxView.GestureRecognizers>
                </BoxView>

                <BoxView x:Name="Indicator2" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="2"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="2" />
                    </BoxView.GestureRecognizers>
                </BoxView>

                <BoxView x:Name="Indicator3" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="3"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="3" />
                    </BoxView.GestureRecognizers>
                </BoxView>


                <BoxView x:Name="Indicator4" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="4"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="4" />
                    </BoxView.GestureRecognizers>
                </BoxView>

                <BoxView x:Name="Indicator5" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="5"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="5" />
                    </BoxView.GestureRecognizers>
                </BoxView>

                <BoxView x:Name="Indicator6" 
                     BackgroundColor="Red"
                     CornerRadius="15"
                     WidthRequest="30"
                     HeightRequest="30"
                     Grid.Column="6"
                     HorizontalOptions="Center">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup Name="CommonStates">
                            <VisualState Name="Normal" />
                            <VisualState Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Scale" Value="1.2" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <BoxView.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnArrowsTapped" CommandParameter="6" />
                    </BoxView.GestureRecognizers>
                </BoxView>

            </Grid>

            <!-- Row2: Blue Frame with Grid -->
            <Frame BackgroundColor="DarkBlue"
                   Padding="10"
                   CornerRadius="15"
                   HorizontalOptions="Center">
                <Grid x:Name="GameGrid"
                  HeightRequest="400"
                  WidthRequest="330"
                  HorizontalOptions="Center"
                  VerticalOptions="Center"
                  Margin="0"/>
            </Frame>
            
            <!-- Legs -->
            <Grid ColumnDefinitions="*,*,*" WidthRequest="330" HorizontalOptions="Center">
                <BoxView BackgroundColor="DarkBlue"
                         HeightRequest="40"
                         WidthRequest="30"
                         CornerRadius="15,0,0,0"
                         Grid.Column="0"
                         HorizontalOptions="End" />
                <BoxView BackgroundColor="DarkBlue"
                         HeightRequest="40"
                         WidthRequest="270"
                         CornerRadius="0"
                         Grid.Column="1"
                         HorizontalOptions="Center" />
                <BoxView BackgroundColor="DarkBlue"
                         HeightRequest="40"
                         WidthRequest="30"
                         CornerRadius="0,15,0,0"
                         Grid.Column="2"
                         HorizontalOptions="Start" />
            </Grid>

        </VerticalStackLayout>
    </Grid>

</ContentPage>